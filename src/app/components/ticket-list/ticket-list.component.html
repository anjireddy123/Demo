<div [ngClass]="classCss" role="alert" *ngIf="message">
  <strong>{{ message.text }}</strong>
</div>
<div class="">
  <div class="">
    <div class="">
      <div class="">
        <h3 class="">Ticket List</h3>
      </div>
      <div [ngClass]="classCss" role="alert" *ngIf="message">
        <strong>{{ message.text }}</strong>
      </div>
      <div class="">
        <div class="" *ngIf="shared.user.profile == 'TECHNICIAN'">
          <div class="">
            <label>
              <input type="checkbox"
                     name="assignedToMe"
                     id="assignedToMe"
                     [(ngModel)]="assignedToMe">
              <b>Assigned to me</b>
            </label>
          </div>
        </div>
        <div class="">
          <label for="inputNumber" class="">Number</label>
          <div class="">
            <input type="text"
                   [(ngModel)]="ticketFilter.number"
                   name="number"
                   class="form-control"
                   id="inputNumber">
          </div>
        </div>
        <div class="form-group">
          <label for="inputTitle" class="">Title</label>
          <div class="">
            <input type="text"
                   [(ngModel)]="ticketFilter.title"
                   name="title"
                   class="form-control"
                   id="inputTitle">
          </div>
        </div>
        <div class="form-group">
          <label for="inputStatus" class="">Status</label>
          <div class="">
            <select [(ngModel)]="ticketFilter.status"
                    class=""
                    name="status"
                    id="inputStatus">
              <option>New</option>
              <option>Resolved</option>
              <option>Approved</option>
              <option>Disapproved</option>
              <option>Assigned</option>
              <option>Closed</option>
            </select>
          </div>
        </div>
        <div class="">
          <label for="inputPriority" class="">Priority</label>
          <div class="col-sm-10">
            <select [(ngModel)]="ticketFilter.priority"
                    class=""
                    name="priority"
                    id="inputPriority">
              <option>High</option>
              <option>Normal</option>
              <option>Low</option>
            </select>
          </div>
        </div>
      </div>
      <div class="">
        <button class="" (click)="cleanFilter()">Clean Filter</button>
        <button class="" (click)="filter()">Filter</button>
      </div>
      <div class="">
        <table class="">
          <tr>
            <th>Number</th>
            <th>Title</th>
            <th>Priority</th>
            <th>Status</th>
            <th>Owner</th>
            <th *ngIf="shared.user.profile == 'CUSTOMER'">&nbsp;</th>
            <th *ngIf="shared.user.profile == 'CUSTOMER'">&nbsp;</th>
            <th>&nbsp;</th>
          </tr>
          <tr *ngFor="let ticket of listTicket">
            <td>{{ticket.number}}</td>
            <td>{{ticket.title}}</td>
            <td>{{ticket.priority}}</td>
            <td>{{ticket.status}}</td>
            <td>{{ticket.user.email}}</td>
            <td *ngIf="shared.user.profile == 'CUSTOMER'">
              <button class="" (click)="edit(ticket.id)">Edit</button>
            </td>
            <td *ngIf="shared.user.profile == 'CUSTOMER'">
              <button class="" (click)="delete(ticket.id)">Delete</button>
            </td>
            <td>
              <button class="" (click)="detail(ticket.id)">Detail</button>
            </td>
          </tr>
        </table>
      </div>
      <div class="">
        <ul class="">
          <li><a href="" (click)="setPreviousPage($event)">&laquo;</a></li>
          <li *ngFor="let p of pages; let i=index">
            <a [ngClass]="{'pagination-focus':i==page}" href="" (click)="setPage(i,$event)">{{i+1}}</a>
          </li>
          <li><a href="" (click)="setNextPage($event)">&raquo;</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>
